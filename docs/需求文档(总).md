# 考研学习网站需求文档

**版本**: v1.0
**创建日期**: 2025-11-17
**目标用户**: 考研学生（PC端优先）

---

## 一、项目概述

### 1.1 项目背景
开发一个用于考研学习的AI助手网站，核心目标是将AI深度讲解与知识卡片管理相结合，为考研学生提供高效的学习工具。

### 1.2 核心价值
1. **深度学习**: 通过分步、交互式的AI讲解，实现"知其然，更知其所以然"
2. **知识管理**: 将学习内容转化为结构化、可检索的知识卡片
3. **效率提升**: 减少重复劳动，专注于学习本身

### 1.3 开发阶段规划

#### 第一期（MVP - 核心闭环）
- 目标: 跑通"AI对话-卡片展示"核心流程
- 核心功能: AI问答、卡片创建、基础展示
- 平台: PC端
- 用户: 个人使用

#### 第二期（智能复习）
- 引入艾宾浩斯遗忘曲线算法
- 实现复习机制（生疏/模糊/熟练/掌握评级）
- 完善筛选和搜索功能

#### 第三期（多平台扩展）
- 手机端专注复习模式
- 数据同步系统

#### 第四期（批量处理）
- 整套试卷批量导入
- 任务队列管理
- 多会话工作区

---

## 二、功能需求

### 2.1 AI问答与学习界面

#### 2.1.1 用户输入
- **支持格式**: 文字、图片（截图）
- **输入方式**:
  - 拖拽上传图片
  - 复制粘贴（截图直接粘贴）
  - 混合输入（图片+补充文字）
- **快速操作**: 左栏提供"新建卡片"按钮，支持一键创建空白卡片

#### 2.1.2 OCR处理流程
- **触发时机**: 检测到图片时自动触发
- **处理逻辑**: 调用视觉模型（如GLM-4V）进行OCR识别
- **结果展示**:
  - OCR结果作为消息的一部分展示
  - 可实时编辑和修正（第一次不确认，提升速度）
  - 编辑后支持"重新发送"
- **未来优化**: 当模型具备原生视觉能力时，跳过OCR步骤

#### 2.1.3 主问答AI解答生成
- **处理流程**: 题目信息 + 预设System Prompt → 模型
- **输出方式**: 流式传输（streaming）
- **交互特性**:
  - 流式输出直接显示在原始输出标签页
  - 提供markdown渲染，支持数学公式（LaTeX/KaTeX）
  - 支持用户配置提示词，根据学科定制输出风格

#### 2.1.4 HTML助手后处理
- **功能**: 将主AI的讲解内容转换为结构化的HTML
- **输入**: 主AI的完整输出 + 预设HTML转换Prompt → htmlAI模型
- **输出特性**:
  - 自动生成格式化的HTML内容
  - 支持公式渲染、代码高亮、步骤结构化展示
  - 提供更清晰的阅读体验
- **配置选项**:
  - 支持用户配置htmlAI的提示词
  - 支持设置"主AI输出完毕后是否自动生成html"
  - 支持设置"html生成完毕后是否自动跳转到html标签页"
- **执行时机**: 根据用户配置自动执行或手动触发
- **状态管理**: htmlAI处理过程中显示"正在生成结构化内容..."状态

#### 2.1.5 话题信息助手
- **功能**: 自动生成卡片元数据
- **输入**: 主AI输出内容 + 预设信息提取Prompt → 信息AI模型
- **输出内容**:
  - 知识点标签（如"二元函数求极值"）
  - 目录推荐（如"数学-真题-2017-T13"）
  - 话题名称（用于工作区命名）
- **配置选项**: 支持用户配置信息AI的提示词，优化推荐质量
- **执行时机**: 与htmlAI并行执行，主AI输出完成后触发
- **状态管理**: 处理过程中显示"正在分析知识点..."状态

#### 2.1.6 后处理任务状态管理
- **状态指示器**: AI解答完成后显示并行任务状态
  - `[▶] 正在生成结构化内容...`
  - `[▶] 正在分析知识点...`
- **完成标识**: 任务完成后显示 `[✓]`
- **错误处理**: 失败任务支持重试

#### 2.1.7 追问与上下文记忆
- **会话管理**: 保留完整对话历史
- **追问功能**: 基于当前题目和解答进行连续提问
- **上下文加载**: 切换工作区时自动恢复对话状态

---

### 2.2 卡片创建与管理

#### 2.2.1 创建时机
- **触发方式**: 用户主动点击"保存"按钮
- **交互形式**: 非侵入式常驻面板
- **面板位置**: 右侧工作台底部或侧边
- **展示时机**: HTML助手和话题信息助手都完成后滑入

#### 2.2.2 创建面板设计
- **显示内容**:
  - AI推荐的目录（可编辑，默认选中）
  - AI推荐的标签（可编辑，带历史联想）
  - "确认创建卡片"按钮
  - "暂不处理"按钮
- **交互特性**:
  - 不遮挡解答内容
  - 支持快速修改
  - 点击后显示Toast提示"卡片已创建"

#### 2.2.3 确认式创建表单
- **表单字段**:
  - 目录（支持层级结构，如"数学-真题-2017-T13"）
  - 标签（多标签，支持自动补全）
  - 题目描述
  - 答案内容
- **智能推荐**:
  - AI自动推荐目录和标签
  - 学习用户偏好（长期优化）
  - 推荐历史相似标签，避免重复
- **操作选项**:
  - "创建并继续"（默认）: 创建后清空界面，准备下一题
  - "创建并查看": 创建后切换到卡片列表并高亮新卡片

#### 2.2.4 卡片数据结构
- **核心字段**:
  - `id`: 唯一标识
  - `user_id`: 用户ID（从MVP期开始预埋）
  - `question`: 题目内容
  - `answer_html`: AI生成的HTML解答
  - `directory`: 目录路径
  - `tags`: 标签数组
  - `created_at`: 创建时间
  - `updated_at`: 更新时间
  - `status`: 状态（新题/学习中/已掌握）
  - `next_review`: 下次复习时间（二期功能）
  - `review_count`: 复习次数（二期功能）
  - `difficulty`: 难度评级（二期功能）

---

### 2.3 展示、回看与复习

#### 2.3.1 PC端三栏式布局与页面状态

**系统采用两种核心页面状态：总览页面 和 卡片详情页面**

**总览界面（卡片浏览模式）**
- **左栏**: 导航面板
  - 顶部包含展开/折叠按钮，支持全屏展开和收起左栏
  - 可切换目录/标签两种视图
  - 支持搜索和筛选功能
  - 右键菜单支持创建文件夹和创建卡片文件
  - 层级结构: 学科 → 类型 → 年份 → 题号
  - 底部提供"新建卡片"按钮，支持一键创建空白卡片
- **中栏**: 卡片列表
  - 展示卡片摘要（题目、标签、创建日期等）
  - 支持按时间/标签/目录排序
  - 支持多选操作（批量移动、删除、导出）
  - 鼠标hover时在右栏展示卡片概览信息
- **右栏**: 卡片概览面板
  - 鼠标hover中栏卡片时，显示该卡片详细信息的预览
  - 展示完整题目、AI解答摘要、相关标签等信息

**卡片详情界面（深度学习模式）**
- **界面布局重构**：当用户点击中栏的某个卡片后，系统切换至卡片详情界面
- **右栏**: 卡片详情面板
  - 完整展示卡片的所有信息
  - 包括题目描述、完整解答、标签、目录等元数据
  - 支持导出、分享、打印等操作
- **中栏**: AI对话与工作区域
  - 显示两个可切换的标签页：
    - **原始输出标签页**：显示主问答AI的流式输出原文
      - 提供markdown渲染，支持数学公式（LaTeX/KaTeX）
      - 保留完整的流式输出历史记录
      - 支持复制、搜索原文内容
    - **格式化输出标签页**：显示HTML助手处理后的结构化内容
      - 接收主AI的输出内容，调用htmlAI转换为结构化HTML
      - 自动渲染公式、代码块、步骤等
      - 提供更清晰的阅读体验
  - 支持在卡片内继续追问AI，保留上下文
  - 提供"返回总览"按钮，可快速返回卡片列表
- **状态切换**：详情界面支持一键返回总览界面，所有状态（标签页位置、滚动位置等）都会被保留

#### 2.3.2 筛选与搜索
- **筛选维度**:
  - 学科（数学、英语、政治等）
  - 目录路径
  - 标签
  - 创建时间
  - 掌握程度（二期）
  - 下次复习时间（二期）
- **组合筛选**: 支持多条件组合
- **语义搜索**（未来功能）: 基于向量数据库的自然语言搜索

#### 2.3.3 复习机制（二期核心功能）
- **间隔重复算法**: 艾宾浩斯遗忘曲线
- **复习流程**:
  1. 界面只显示题目（问题面）
  2. 用户思考后点击查看答案
  3. 显示AI生成的完整解答
  4. 用户自评掌握程度:
     - 生疏（1-2天内复习）
     - 模糊（3-5天内复习）
     - 熟练（7-14天内复习）
     - 掌握（30天后复习）
- **复习列表**: 基于算法自动生成每日复习任务

#### 2.3.4 数据组织
- **目录结构示例**:
  - `数学-真题-2011-Text4`
  - `数学-真题-2017-T13`
  - `英语-模拟题-XX机构-Test1`
- **标签体系**:
  - 知识点: 二元函数求极值、定积分应用、微分中值定理
  - 题型: 选择题、填空题、解答题
  - 难度: 基础、进阶、困难

---

### 2.4 工作区管理（未来功能）

#### 2.4.1 工作区状态
- **思考中**: 新创建的工作区，AI正在处理
- **待处理**: AI已解答，未创建卡片
- **已归档**: 已创建卡片
- **已放弃**: 手动关闭且未创建卡片

#### 2.4.2 工作区列表
- **位置**: 左侧栏
- **功能**:
  - 显示所有工作区
  - 快速切换
  - 重命名/删除/置顶
  - 自动命名（基于话题信息助手输出）

---

### 2.5 批量处理（未来功能）

#### 2.5.1 完整流程
1. **上传**: 整套卷子PDF或系列截图
2. **OCR**: 后台批量OCR识别
3. **智能拆分**: AI按题号分割题目
4. **选择**: 前端展示题目清单，支持批量勾选
5. **标记**: 快速标记（错题、不确定、重点题）
6. **入队**: 加入任务队列

#### 2.5.2 任务队列管理
- **可视化列表**:
  - 题号
  - 题目摘要
  - 当前状态（等待/OCR中/解答中/HTML生成中/已完成/失败）
  - 进度条
- **并发控制**: 滑块设置1-5个并行任务
- **优先级**: 拖拽调整任务顺序
- **失败重试**: 自动重试2次，支持手动重试

### 2.6 设置与配置管理

#### 2.6.1 设置页面入口
- **位置**: 左栏底部设置按钮
- **访问方式**: 点击设置图标或菜单进入
- **页面布局**: 单列配置面板，分组展示配置项
- **保存机制**: 实时保存或手动保存按钮

#### 2.6.2 助手提示词配置
- **主问答AI提示词配置**:
  - 文本框输入自定义System Prompt
  - 提供默认提示词模板（按学科）
  - 支持导出/导入配置
  - 提示词效果预览功能
- **htmlAI提示词配置**:
  - 文本框输入HTML转换专用Prompt
  - 提供结构化输出模板
  - 支持markdown渲染样式自定义
  - 预览转换效果
- **信息AI提示词配置**:
  - 文本框输入信息提取专用Prompt
  - 支持标签、目录推荐规则自定义
  - 支持用户偏好学习配置
  - 推荐结果预览

#### 2.6.3 HTML生成自动化配置
- **自动生成开关**:
  - 选项: 主AI输出完毕后是否自动生成html
  - 状态: 开启/关闭
  - 提示: 开启后将自动调用htmlAI处理
- **自动跳转开关**:
  - 选项: html生成完毕后是否自动跳转到html标签页
  - 状态: 开启/关闭
  - 高级功能:
    - 自动记录当前阅读位置
    - 跳转后恢复相同阅读位置
    - 确保阅读体验的连续性
- **手动模式**: 当自动生成关闭时，提供手动"生成HTML"按钮

#### 2.6.4 其他配置项
- **界面配置**:
  - 左栏默认展开/折叠状态
  - 列表项密度（紧凑/标准/宽松）
  - 主题配色（浅色/深色/自动）
- **导入导出**:
  - 导出全部配置为JSON文件
  - 从文件导入配置
  - 恢复默认配置（二次确认）
- **高级设置**:
  - API配置管理（密钥、模型选择）
  - 代理设置（如有需要）
  - 缓存管理

---

## 三、交互设计

### 3.1 核心场景设计

#### 场景一: 连续刷题，批量创建卡片
1. 用户在右侧工作台上传题目，获得解答
2. 底部常驻面板滑入，显示推荐目录和标签
3. 用户确认创建，点击"✓ 确认创建卡片"
4. 界面自动重置:
   - 清空右侧AI聊天界面
   - 光标定位到输入框
   - 中栏显示Toast提示"[数学] [二元函数求极值] 卡片已创建"
5. 用户可立即处理下一题

#### 场景二: 查看卡片详情并深度追问
1. 用户在左侧目录/标签筛选卡片
2. 鼠标hover中栏卡片列表，右栏显示卡片概览
3. 点击中栏的某个卡片，进入卡片详情界面
4. 右栏显示完整的卡片详情（题目、解答、标签、元数据）
5. 中栏显示AI对话区域，默认在"原始输出"标签页
6. 用户可切换到"格式化输出"标签页查看结构化HTML
7. 阅读过程中产生疑问，直接在中栏输入追问内容
8. AI基于卡片上下文和原始对话进行回答
9. 点击"返回总览"按钮，平滑返回卡片列表界面

#### 场景三: 调整AI助手配置
1. 用户点击左栏底部的"设置"按钮
2. 进入设置页面，查看当前配置
3. 在"主问答AI提示词"配置区，修改默认的System Prompt
4. 在"htmlAI提示词"配置区，调整HTML转换规则
5. 开启"自动生成html"选项
6. 开启"自动跳转到html标签页"选项，并启用阅读位置记忆
7. 保存配置，返回主界面
8. 此时处理新题目，AI输出后自动跳转至格式化标签页
9. 切换标签页时的阅读位置被自动保留，体验连贯

#### 场景四: OCR错误修正
1. 用户发送带图片的消息
2. 聊天记录显示OCR结果气泡
3. 用户发现OCR错误
4. 点击"编辑"按钮（AI流式输出自动停止）
5. OCR文本变为可编辑输入框
6. 用户修正后点击"重新发送"
7. 流程用正确文本重新开始

---

### 3.2 用户体验原则
- **无打断**: 常驻面板替代弹窗，不干扰思考
- **上下文保持**: 同屏显示相关信息，保持阅读位置连贯性
- **即时性**: 学完立即归档
- **控制权**: 用户可随时选择"暂不处理"
- **心流状态**: 一键重置，支持连续操作
- **防重复**: 标签自动补全和历史联想
- **灵活性**: 支持高度自定义AI助手行为和界面布局
- **沉浸式**: hover预览与详情页面无缝切换，减少认知负担

---

## 四、技术架构

### 4.1 后端工作流引擎

#### 核心流程
```
用户提交（文字或图片）
    ↓
（图片检测）
    ↓
OCR处理（如需要）→ OCR文本展示
    ↓
主问答AI（流式输出）
    ↓
┌────────────┴────────────┐
↓                          ↓
htmlAI（非流式）        信息AI（非流式）
（主AI输出完成后触发）      （主AI输出完成后触发）
    ↓                          ↓
结构化HTML                 标签/目录推荐
    ↓                          ↓
└────────────┬────────────┘
              ↓
      ┌───────┴────────┐
      ↓                ↓
自动跳转（可选） 卡片创建面板
（根据用户配置）      ↓
              卡片保存
```

#### 异步任务管理
- **任务队列**: Celery + Redis/RabbitMQ（批量处理期）
- **状态管理**: WebSocket或轮询获取任务状态
- **并发控制**: 可配置并行任务数
- **配置驱动**: htmlAI执行时机由用户设置控制（自动/手动）

### 4.2 模型选择与配置

#### AI助手体系
系统采用三路AI助手协同工作模式，每路助手可独立配置：

- **主问答AI**: 多模态大语言模型（如GPT-4o、Claude-3.5、GLM-4）
  - 职责: 题目解答、知识讲解、追问对话
  - 输出: 流式文本，支持markdown和LaTeX公式
  - 配置: 支持用户自定义System Prompt，按学科定制风格

- **htmlAI助手**: 结构化处理专用模型（可与主AI同模型）
  - 职责: 将主AI输出转换为结构化HTML
  - 输出: 格式化的HTML内容，包含公式渲染、步骤结构
  - 配置: 支持用户自定义HTML转换Prompt
  - 触发: 根据用户配置自动或手动执行

- **信息AI助手**: 元数据提取专用模型（可与主AI同模型）
  - 职责: 自动生成标签、推荐目录、提取话题名称
  - 输出: JSON格式的结构化元数据
  - 配置: 支持用户自定义信息提取Prompt
  - 触发: 与htmlAI并行执行，主AI完成后触发

- **OCR模型**: GLM-4V / GPT-4o / Qwen-VL
  - 职责: 图片文字和公式识别
  - 输出: 识别后的文本内容
  - 触发: 检测到图片输入时自动调用

#### 配置文件管理
- **配置存储**: 使用JSON或YAML格式存储用户配置
- **配置热加载**: 支持运行时修改配置，无需重启服务
- **配置版本管理**: 支持配置历史版本回滚
- **配置共享**: 支持导出/导入配置文件，便于分享


### 4.3 数据存储

#### 数据库设计
- **用户表（预留）**: `users`
  - `id`, `username`, `email`, `created_at`, `updated_at`

- **问题表**: `problems`
  - `id`, `user_id`, `question_text`, `question_images`, `status`, `created_at`

- **对话表**: `conversations`
  - `id`, `user_id`, `problem_id`, `question_id`, `messages`, `status`, `created_at`
  - 存储完整对话历史，包括主AI输出、追问等

- **卡片表**: `cards`
  - `id`, `user_id`, `problem_id`, `conversation_id`, `directory`, `tags`, `answer_html`, `metadata`, `review_data`, `created_at`, `updated_at`
  - `metadata`: 存储AI生成的元数据（话题名称等）
  - `review_data`: 预留二期复习功能字段

- **标签表**: `tags`
  - `id`, `user_id`, `name`, `category`, `usage_count`, `created_at`
  - `category`: 标签分类（知识点/题型/难度等）

- **配置表**: `user_configs`
  - `id`, `user_id`, `config_key`, `config_value`, `updated_at`
  - 存储用户所有配置项（JSON格式）
  - 包括：三个AI助手的提示词、自动化开关、界面偏好等

- **目录树表**: `directories`
  - `id`, `user_id`, `path`, `parent_id`, `card_count`, `created_at`
  - `path`: 完整目录路径（如"数学-真题-2017"）
  - 支持右键快速创建文件夹

#### 关键预留设计
- 所有核心表从MVP期开始包含 `user_id` 字段
- 初始硬编码 `user_id = 1`
- 为未来多用户功能平滑升级
- 配置表支持完整用户自定义设置

### 4.4 前端架构

#### 界面布局与状态管理
系统采用双页面状态架构，通过状态管理实现无缝切换：

**总览页面架构**
- **左栏**: 导航面板（可折叠）
  - 顶部: 展开/折叠按钮 + 视图切换（目录/标签）
  - 中部: 目录树或标签云，支持右键菜单
  - 底部: 新建卡片按钮、设置按钮
  - 技术实现: 状态管理控制展开/折叠，支持拖拽调整宽度
  - 存储: 用户偏好保存到 `user_configs` 表

- **中栏**: 卡片列表区域
  - 顶部: 筛选条件展示 + 排序控件
  - 中部: 虚拟滚动列表，支持多选
  - 底部: 分页或无限滚动
  - 交互:
    - 鼠标hover触发右栏预览
    - 点击切换到卡片详情页面

- **右栏**: 卡片概览面板
  - 接收hover事件，动态加载卡片数据
  - 只读预览，不占用主空间
  - 提供"进入详情"按钮
  - 技术实现: 基于hover事件的异步数据加载

**卡片详情页面架构**
- **左栏**: 保持与总览页面一致，支持全局导航
- **右栏**: 卡片详情面板
  - 完整展示卡片的所有字段和元数据
  - 支持编辑、导出、分享、打印
  - 提供"返回总览"按钮，返回时保留状态
- **中栏**: AI对话工作区（双标签页）
  - 标签页一: 原始输出
    - 内容: 主AI的完整流式输出历史
    - 特性: markdown渲染、KaTeX公式渲染、代码高亮
    - 工具栏: 复制、搜索、导出、字体大小调整
    - 技术: markdown-it + KaTeX + highlight.js
  - 标签页二: 格式化输出
    - 内容: htmlAI生成的结构化HTML
    - 特性: 富文本渲染、交互式公式、步骤导航
    - 工具栏: 打印、导出PDF、视图模式切换
    - 技术: 自定义HTML渲染器，支持自定义组件
  - 追问输入框: 固定在底部，支持图片上传
  - 状态管理: 标签页切换状态、滚动位置、工具栏状态

#### 前端技术栈建议
- **框架**: React 18+ 或 Vue 3（推荐React，状态管理更成熟）
- **状态管理**: Zustand 或 Redux Toolkit
  - 核心状态: currentView（总览/详情）、selectedCard、tabsState、configs
- **路由**: React Router 处理页面切换
- **Markdown渲染**:
  - markdown-it 解析markdown
  - KaTeX 渲染数学公式
  - highlight.js 代码高亮
- **UI组件库**: shadcn/ui + Tailwind CSS 或 Ant Design
- **存储方案**:
  - IndexedDB 本地缓存（减少API调用）
  - localStorage 存储用户配置
- **响应式**: 使用CSS Grid + Flexbox
- **性能优化**:
  - 虚拟滚动（react-window）优化长列表
  - 图片懒加载
  - 消息缓存策略

#### 状态同步策略
- **状态保持**: 切换页面时保留用户操作状态
  - 标签页选择状态
  - 滚动阅读位置
  - 筛选和排序条件
- **实时同步**: WebSocket实时同步多设备状态（三期）
- **离线支持**: 支持离线创建和编辑，联网后自动同步

#### 响应式设计
- **平板端**: 可折叠两栏布局
  - 左栏浮层或滑动抽屉
  - 中栏占主导
- **手机端**: 单栏卡片式 + Tab导航
  - 总览页: 卡片列表全屏，点击后进入详情
  - 详情页: 顶部Tab切换（概览/对话）

### 4.5 开源部署

#### 配置管理
- `.env.example` 文件作为配置模板
- 敏感信息（API Key）不写入代码
- 支持环境变量配置模型参数

#### Docker支持
- 提供 `docker-compose.yml`
- 一键启动所有服务
- 无需本地安装Python/Node.js环境

#### 文档要求
- 详细的 `README.md`
- 部署指南（含截图）
- 快速开始教程

---

## 五、非功能性需求

### 5.1 性能要求
- AI解答首次响应时间: < 3秒
- OCR处理时间: < 5秒
- 页面加载时间: < 2秒
- 支持并发任务数: 可配置1-5个

### 5.2 成本考虑
- API调用优化（未来考虑客户端缓存）
- 问题-答案对缓存（商业化阶段）
- 用户额度机制（商业化阶段）

### 5.3 数据安全
- API Key本地存储，不上传服务器
- 开源模式下用户数据本地化管理
- 为未来云端同步预留加密机制

### 5.4 可扩展性
- 模块化设计，OCR模块可插拔
- 支持未来视觉模型原生输入
- 插件化Prompt管理

---

## 六、后续规划

### 6.1 第二期: 智能复习系统
- [ ] 间隔重复算法实现
- [ ] 复习状态管理（生疏/模糊/熟练/掌握）
- [ ] 每日复习任务列表
- [ ] 复习进度统计
- [ ] 筛选器增强（按掌握程度、复习时间）

### 6.2 第三期: 多平台与同步
- [ ] 平板端手写笔支持
- [ ] 手机端复习模式
- [ ] 用户登录系统
- [ ] 云端数据同步
- [ ] 数据备份与恢复

### 6.3 第四期: 批量处理
- [ ] 整套试卷上传
- [ ] AI智能拆分题目
- [ ] 批量勾选与标记
- [ ] 任务队列管理界面
- [ ] 优先级调整
- [ ] 并发数控制
- [ ] 失败重试机制

### 6.4 长期愿景
- [ ] 语义搜索（向量数据库）
- [ ] 个性化学习路径推荐
- [ ] AI模考生成
- [ ] 学习数据分析与可视化
- [ ] 社区功能（公开卡片分享）

---

## 七、风险与挑战

### 7.1 技术风险
- **AI解答质量**: 可能出现错误，需要用户反馈机制
- **OCR准确性**: 手写公式识别难度大
- **响应延迟**: 流式输出优化
- **API限制**: RPM（每分钟请求数）限制

### 7.2 产品风险
- **用户粘性**: 需要打磨核心体验
- **学习成本**: 交互流程需符合直觉
- **竞争压力**: 市场上已有类似工具

### 7.3 应对策略
- 建立用户反馈和审核机制
- 提供详细的使用引导
- 专注考研场景，做深做透
- 开源社区驱动迭代

---

## 八、附录

### 8.1 术语表
- **MVP**: 最小可行产品
- **OCR**: 光学字符识别
- **LLM**: 大语言模型
- **主问答AI**: 负责题目解答和知识讲解的核心AI助手
- **htmlAI**: 将主AI输出转换为结构化HTML的专用AI助手
- **信息AI**: 自动生成卡片元数据（标签、目录）的专用AI助手
- **工作区**: 独立的对话上下文环境
- **RPM**: 每分钟请求数（Rate Per Minute）
- **总览页面**: 展示卡片列表和快速预览的主界面
- **卡片详情页**: 展示单个卡片完整信息和AI对话的深度学习界面
- **原始输出**: 主AI的流式输出原文，支持markdown和LaTeX渲染
- **格式化输出**: htmlAI生成的结构化HTML内容

### 8.2 快捷键设计
- `Enter`: 发送消息（在输入框中）
- `Shift + Enter`: 输入框内换行
- `1/2/3/4`: 复习评级（二期）
- 鼠标右键: 左栏支持右键菜单（创建文件夹/创建卡片文件）
- 鼠标hover: 中栏卡片列表hover时触发右栏预览

### 8.3 核心交互流程图
（可根据需要补充流程图）

---

**文档维护**: 本需求文档将根据开发进度持续迭代更新。
